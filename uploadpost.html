l<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Upload Post - Hoyoo Studio</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0d0f14;
      color: #fff;
      padding: 20px;
      display: flex;
      justify-content: center;
    }
    .upload-card {
      background: #1a1d24;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      padding: 24px;
      max-width: 600px;
      width: 100%;
    }
    textarea, select, input[type="text"] {
      width: 100%;
      background: #2a2e38;
      color: #fff;
      border: 1px solid #3a3f4b;
      border-radius: 12px;
      padding: 12px;
      font-size: 15px;
      margin-bottom: 14px;
      outline: none;
    }
    .file-label {
      display: inline-block;
      background: #2a2e38;
      color: #fff;
      padding: 10px 14px;
      border-radius: 10px;
      font-size: 14px;
      cursor: pointer;
    }
    #editBtn {
      background: hotpink;
      border: none;
      padding: 8px 14px;
      border-radius: 10px;
      margin-left: 10px;
      cursor: pointer;
      font-size: 14px;
      color: #000;
    }
    input[type="file"] {
      display: none;
    }
    .image-preview {
      margin-top: 12px;
      position: relative;
    }
    .image-preview img {
      max-width: 100%;
      border-radius: 12px;
    }
    .upload-btn {
      background: #f64f59;
      color: #fff;
      border: none;
      padding: 14px 20px;
      border-radius: 14px;
      font-size: 16px;
      cursor: pointer;
      width: 100%;
      margin-top: 16px;
    }
    label {
      font-size: 14px;
      color: #ccc;
      margin-bottom: 4px;
      display: block;
    }
  </style>
</head>
<body>
  <div class="upload-card">
    <label for="postText">What's on your mind, Boss?</label>
    <textarea id="postText" placeholder="Type your thoughts here..."></textarea>

    <label>Upload Photo</label>
    <label for="fileUpload" class="file-label">Upload Photo</label>
    <input type="file" id="fileUpload" accept="image/*" />
    <button id="editBtn" style="display:none;">Edit</button>

    <div class="image-preview" id="previewContainer" style="display:none;">
      <img id="previewImage" src="" alt="Post image preview" />
    </div>

    <label for="visibility">Visibility</label>
    <select id="visibility">
      <option>Public</option>
      <option>Unlisted</option>
      <option>Private</option>
    </select>

    <label for="audience">Is this made for kids?</label>
    <select id="audience">
      <option>No, it's not made for kids</option>
      <option>Yes, it's made for kids</option>
    </select>

    <label for="description">Description</label>
    <textarea id="description" placeholder="Tell your audience more..."></textarea>

    <label for="tags">Tags (comma separated)</label>
    <input type="text" id="tags" placeholder="e.g. gaming, funny, epic" />

    <button class="upload-btn" onclick="uploadPost()">Post This Magic</button>
  </div>

  <script>
    const postText = document.getElementById('postText');
    const fileUpload = document.getElementById('fileUpload');
    const previewContainer = document.getElementById('previewContainer');
    const previewImage = document.getElementById('previewImage');
    const editBtn = document.getElementById('editBtn');

    window.addEventListener('DOMContentLoaded', () => {
      const savedText = sessionStorage.getItem('postText') || '';
      const savedImage = sessionStorage.getItem('postImage') || '';
      postText.value = savedText;

      if (savedImage) {
        previewImage.src = savedImage;
        previewContainer.style.display = 'block';
        editBtn.style.display = 'inline-block';
      }
    });

    fileUpload.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(evt) {
          previewImage.src = evt.target.result;
          previewContainer.style.display = 'block';
          sessionStorage.setItem('postImage', evt.target.result);
          editBtn.style.display = 'inline-block';
        };
        reader.readAsDataURL(file);
      }
    });

    editBtn.addEventListener('click', () => {
      fileUpload.click();
    });

    function uploadPost() {
      const data = {
        text: postText.value.trim(),
        image: sessionStorage.getItem('postImage') || '',
        visibility: document.getElementById('visibility').value,
        audience: document.getElementById('audience').value,
        description: document.getElementById('description').value.trim(),
        tags: document.getElementById('tags').value.split(',').map(t => t.trim()).filter(Boolean),
      };

      if (!data.text && !data.image) {
        alert('Câ€™mon Daddy Hoyoo, you need to type something or add a pic!');
        return;
      }

      console.log('Ready to upload this beast:', data);
      alert('Post is staged! Now plug this into Firebase and launch it to the world.');
    }
  </script>
</body>
</html>