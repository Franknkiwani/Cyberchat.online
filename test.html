<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Post View - YouTube Style</title>
  <style>
    /* Your existing CSS here, unchanged */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      background-color: #0f0f0f;
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 1rem;
    }
    .media {
      width: 100%;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 1rem;
    }
    .media img {
      width: 100%;
      height: auto;
      border-radius: 12px;
    }
    .title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    /* Profile area */
    .profile {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 0.5rem;
    }
    .profile-pic {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      border: 3px solid #1e90ff; /* Blue edge */
      overflow: hidden;
      flex-shrink: 0;
    }
    .profile-pic img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .user-info {
      display: flex;
      flex-direction: column;
    }
    .username {
      font-weight: 600;
      font-size: 1.1rem;
      color: #eee;
    }
    .followers {
      font-size: 0.9rem;
      color: #aaa;
      margin-top: 0.2rem;
    }

    .actions {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      overflow-x: auto;
      padding-bottom: 0.25rem;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .actions::-webkit-scrollbar {
      height: 6px;
    }
    .actions::-webkit-scrollbar-thumb {
      background: #555;
      border-radius: 3px;
    }
    .actions::-webkit-scrollbar-track {
      background: transparent;
    }
    .action-button {
      flex: 0 0 auto;
      scroll-snap-align: start;
      background: #222;
      border: none;
      color: #fff;
      padding: 0.5rem 1.2rem;
      border-radius: 999px;
      font-size: 1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.6rem;
      transition: background 0.2s;
      user-select: none;
    }
    .action-button:hover {
      background: #333;
    }
    .action-button svg {
      width: 22px;
      height: 22px;
      fill: #fff;
      flex-shrink: 0;
    }
    .count {
      font-weight: 600;
      min-width: 28px;
      text-align: right;
      color: #eee;
      user-select: none;
    }

    /* Description */
    .description {
      line-height: 1.5;
      margin-bottom: 2rem;
      background: #1a1a1a;
      padding: 1rem;
      border-radius: 8px;
      position: relative;
      font-size: 1rem;
      white-space: pre-wrap;
      color: #ddd;
    }
    .description a {
      color: #1e90ff;
      text-decoration: none;
      word-break: break-word;
    }
    .description a:hover {
      text-decoration: underline;
    }
    .tags {
      margin-top: 0.5rem;
    }
    .tag {
      color: #1e90ff;
      margin-right: 0.5rem;
      cursor: pointer;
      user-select: none;
    }
    .read-more-btn {
      color: #1e90ff;
      cursor: pointer;
      font-weight: 600;
      margin-top: 0.5rem;
      display: inline-block;
      user-select: none;
    }

    /* Comments */
    .comments {
      border-top: 1px solid #333;
      padding-top: 1rem;
    }
    .comment {
      border-bottom: 1px solid #333;
      padding: 0.75rem 0;
    }
    .comment-author {
      font-weight: 500;
    }
    .comment-text {
      margin-top: 0.2rem;
      color: #ccc;
      white-space: pre-wrap;
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      backdrop-filter: blur(6px);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      padding: 2rem;
    }
    .modal-overlay.active {
      display: flex;
    }
    .modal-content {
      background: #121212;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      border-radius: 12px;
      padding: 1.5rem;
      color: #eee;
      font-size: 1rem;
      line-height: 1.6;
      box-shadow: 0 0 20px #1e90ff;
      position: relative;
    }
    .modal-close {
      position: absolute;
      top: 1.2rem;
      right: 1.5rem;
      font-size: 1.8rem;
      font-weight: 700;
      cursor: pointer;
      color: #1e90ff;
      user-select: none;
      background: transparent;
      border: none;
    }
.comments-section {
  margin-top: 30px;
  color: #0f0f0f;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}
.comments-section h3 {
  margin-bottom: 12px;
  font-weight: 600;
  font-size: 1.25rem;
}

.add-comment {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 20px;
}

.add-comment img {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: 2px solid #1e90ff;
  flex-shrink: 0;
}

.add-comment input {
  flex-grow: 1;
  padding: 10px 12px;
  border: 1px solid #ccc;
  border-radius: 18px;
  font-size: 1rem;
  outline: none;
  transition: border-color 0.3s ease;
}

.add-comment input:focus {
  border-color: #1e90ff;
}

.add-comment button {
  background-color: #1e90ff;
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 18px;
  font-weight: 600;
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.3s ease;
}

.add-comment button:enabled {
  opacity: 1;
}

#commentsList {
  display: flex;
  flex-direction: column;
  gap: 18px;
  max-height: 300px;
  overflow-y: auto;
}

.comment {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.comment img {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: 2px solid #1e90ff;
  flex-shrink: 0;
}

.comment-body {
  flex-grow: 1;
}

.comment-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  font-size: 0.95rem;
  color: #0a0a0a;
}

.comment-header span {
  font-weight: 400;
  font-size: 0.85rem;
  color: #555;
}

.comment-text {
  margin-top: 4px;
  font-size: 1rem;
  color: #222;
}

.comment-actions {
  margin-top: 4px;
  display: flex;
  gap: 18px;
  font-size: 0.85rem;
  color: #1e90ff;
  cursor: pointer;
  user-select: none;
}

.comment-actions span:hover {
  text-decoration: underline;
}

/* Scrollbar styling for comments */
#commentsList::-webkit-scrollbar {
  width: 6px;
}

#commentsList::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 3px;
}

#commentsList::-webkit-scrollbar-track {
  background: #f0f0f0;
}
  </style>
</head>
<body>
  <div class="container">

    <div class="media">
      <img src="https://picsum.photos/960/540" alt="Post Image" />
    </div>

    <div class="title">Amazing Post Title That Hooks You In</div>

    <div class="profile">
      <div class="profile-pic">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Profile Picture" />
      </div>
      <div class="user-info">
        <div class="username">BossMan123</div>
        <div class="followers">23.4K followers</div>
      </div>
    </div>

    <div class="actions" role="group" aria-label="Post actions">
      <button class="action-button" id="likeBtn" aria-pressed="false" aria-label="Like post">
        <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6 4 4 6.5 4c1.54 0 3.04.99 3.57 2.36h1.87C13.46 4.99 14.96 4 16.5 4 19 4 21 6 21 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
        <span class="count" id="likeCount">120</span>
      </button>

      <button class="action-button" id="dislikeBtn" aria-pressed="false" aria-label="Dislike post">
        <svg viewBox="0 0 24 24"><path d="M12 2.65l1.45 1.32C18.6 8.64 22 11.72 22 15.5c0 2.5-2 4.5-4.5 4.5-1.54 0-3.04-.99-3.57-2.36h-1.87C10.54 19.01 9.04 20 7.5 20 5 20 3 18 3 15.5c0-3.78 3.4-6.86 8.55-11.54L12 2.65z"/></svg>
        <span class="count" id="dislikeCount">3</span>
      </button>

      <button class="action-button" id="saveBtn" aria-label="Save post">
        <svg viewBox="0 0 24 24"><path d="M17 3H7a2 2 0 0 0-2 2v16l7-3 7 3V5a2 2 0 0 0-2-2z"/></svg> Save
      </button>

      <button class="action-button" id="shareBtn" aria-label="Share post">
        <svg viewBox="0 0 24 24"><path d="M18 8a3 3 0 0 0-2.83 2H8.83a3 3 0 1 0 0 2h6.34a3 3 0 1 0 0-2h-6.34a3 3 0 0 0 2.83-2z"/></svg> Share
      </button>
    </div>

    <div class="description" id="desc">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vel pulvinar nulla. Vestibulum sed risus quis ex sagittis feugiat at in lectus. Praesent tristique lorem ac lorem lobortis rhoncus. Sed at vehicula nisl, id malesuada justo. Morbi suscipit sem a ex posuere, a sodales lacus porttitor. Curabitur posuere dui sapien, at fringilla augue consectetur at. Integer et purus nulla. Sed sit amet dictum neque. Aliquam erat volutpat. Suspendisse ut massa libero.
      <div class="tags" id="tagsContainer"></div>
      <div class="read-more-btn" id="readMoreBtn">Read more</div>
    </div>

    <!-- Modal for full description -->
    <div class="modal-overlay" id="modal">
      <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <button class="modal-close" id="modalCloseBtn" aria-label="Close description modal">&times;</button>
        <div id="modalText"></div>
      </div>
    </div>

    <div class="comments-section" aria-label="Comments section">
      <h3>Comments</h3>
      <div class="add-comment">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Your profile picture" />
        <input type="text" id="commentInput" placeholder="Add a comment..." aria-label="Add a comment" />
        <button id="commentSubmitBtn" disabled>Add</button>
      </div>
      <div id="commentsList" role="list" aria-live="polite"></div>
    </div>

  </div>

  <script>
    (() => {
      // Like and dislike toggle with counts
      const likeBtn = document.getElementById('likeBtn');
      const dislikeBtn = document.getElementById('dislikeBtn');
      const likeCountElem = document.getElementById('likeCount');
      const dislikeCountElem = document.getElementById('dislikeCount');

      let liked = false;
      let disliked = false;

      likeBtn.addEventListener('click', () => {
        if(liked) {
          liked = false;
          likeCountElem.textContent = +likeCountElem.textContent - 1;
          likeBtn.setAttribute('aria-pressed', 'false');
        } else {
          liked = true;
          likeCountElem.textContent = +likeCountElem.textContent + 1;
          likeBtn.setAttribute('aria-pressed', 'true');
          // Remove dislike if active
          if (disliked) {
            disliked = false;
            dislikeCountElem.textContent = +dislikeCountElem.textContent - 1;
            dislikeBtn.setAttribute('aria-pressed', 'false');
          }
        }
      });

      dislikeBtn.addEventListener('click', () => {
        if(disliked) {
          disliked = false;
          dislikeCountElem.textContent = +dislikeCountElem.textContent - 1;
          dislikeBtn.setAttribute('aria-pressed', 'false');
        } else {
          disliked = true;
          dislikeCountElem.textContent = +dislikeCountElem.textContent + 1;
          dislikeBtn.setAttribute('aria-pressed', 'true');
          // Remove like if active
          if (liked) {
            liked = false;
            likeCountElem.textContent = +likeCountElem.textContent - 1;
            likeBtn.setAttribute('aria-pressed', 'false');
          }
        }
      });

      // Save & Share buttons (placeholders for now)
      document.getElementById('saveBtn').addEventListener('click', () => {
        alert('Save functionality coming soon!');
      });

      document.getElementById('shareBtn').addEventListener('click', () => {
        alert('Share functionality coming soon!');
      });

      // Read more functionality for description
      const descElem = document.getElementById('desc');
      const readMoreBtn = document.getElementById('readMoreBtn');
      const modal = document.getElementById('modal');
      const modalCloseBtn = document.getElementById('modalCloseBtn');
      const modalText = document.getElementById('modalText');

      // Initially limit description to about 3 lines or 150 chars
      const fullText = descElem.textContent.trim();
      const maxLength = 150;

      if (fullText.length <= maxLength) {
        readMoreBtn.style.display = 'none';
      } else {
        descElem.textContent = fullText.slice(0, maxLength) + '...';
        readMoreBtn.style.display = 'inline-block';
      }

      readMoreBtn.addEventListener('click', () => {
        modalText.textContent = fullText;
        modal.classList.add('active');
        modalCloseBtn.focus();
      });

      modalCloseBtn.addEventListener('click', () => {
        modal.classList.remove('active');
        readMoreBtn.focus();
      });

      modal.addEventListener('click', (e) => {
        if(e.target === modal) {
          modal.classList.remove('active');
          readMoreBtn.focus();
        }
      });

      // Tags rendering & click handler
      const tags = ['Tech', 'Gaming', 'Vlog', 'Tutorial', 'Live']; // example tags
      const tagsContainer = document.getElementById('tagsContainer');
      tags.forEach(tag => {
        const tagElem = document.createElement('span');
        tagElem.className = 'tag';
        tagElem.textContent = `#${tag}`;
        tagElem.tabIndex = 0;
        tagElem.setAttribute('role', 'button');
        tagElem.setAttribute('aria-label', `Filter by tag ${tag}`);
        tagElem.addEventListener('click', () => alert(`Filter by tag: ${tag}`));
        tagElem.addEventListener('keydown', e => {
          if(e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            tagElem.click();
          }
        });
        tagsContainer.appendChild(tagElem);
      });

      // Comments section
      const commentInput = document.getElementById('commentInput');
      const commentSubmitBtn = document.getElementById('commentSubmitBtn');
      const commentsList = document.getElementById('commentsList');

      // Enable add button only if input not empty
      commentInput.addEventListener('input', () => {
        commentSubmitBtn.disabled = commentInput.value.trim().length === 0;
      });

      // Mock comments array to store
      const comments = [
        { author: 'Alice', text: 'Great post!' },
        { author: 'Bob', text: 'Thanks for sharing.' }
      ];

      function renderComments() {
        commentsList.innerHTML = '';
        comments.forEach(({author, text}, i) => {
          const commentElem = document.createElement('div');
          commentElem.className = 'comment';
          commentElem.setAttribute('role', 'listitem');

          commentElem.innerHTML = `
            <img src="https://randomuser.me/api/portraits/lego/${i % 10}.jpg" alt="Commenter profile" />
            <div class="comment-body">
              <div class="comment-header">${author}</div>
              <div class="comment-text">${text}</div>
            </div>
          `;
          commentsList.appendChild(commentElem);
        });
      }

      commentSubmitBtn.addEventListener('click', () => {
        const text = commentInput.value.trim();
        if(text) {
          comments.push({ author: 'You', text });
          renderComments();
          commentInput.value = '';
          commentSubmitBtn.disabled = true;
        }
      });

      // Initial render
      renderComments();

    })();
  </script>
</body>
</html>